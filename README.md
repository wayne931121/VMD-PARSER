# VMD-PARSER
python read and write vmd

```py
from vmd import *
import copy

vmd = vmdread("b.vmd")
motion = motionreader(vmd)
ik = ikreader(vmd["ik"])

WriteVMD("example.vmd", motion)



vmdc = copy.deepcopy(vmd)
vmdc["motion"] = vmdc["motion"][:32]
vmdc["morph"] = vmdc["morph"][:32]

print("vmd")
print(vmdc)
print()

print("motion")
print(motion[:6])
print()

print("ik")
print(ik)
```

output:

```
PS C:\Users\原神\Desktop> python demo.py
vmd
{'headers': b'Vocaloid Motion Data 0002\x00\x00\x00\x00\x00', 'name': 'Dummy Model Name    ', 'motioncount': 162, 'motion': b'\x8f\xe3\x94\xbc\x90g\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00L', 'morphcount': 0, 'morph': b'', 'cameracount': 0, 'camera': b'', 'lightcount': 0, 'light': b'', 'shadowcount': 0, 'shadow': b'', 'iktotalcount': 1, 'ik': [{'ikcount': 0, 'ikshow': 1, 'iknumber': 4, 'ik': b'\x8d\xb6\x91\xab\x82h\x82j\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x89E\x91\xab\x82h\x82j\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x8d\xb6\x82\xc2\x82\xdc\x90\xe6\x82h\x82j\x00\x00\x00\x00\x00\x00\x00\x00\x00\x89E\x82\xc2\x82\xdc\x90\xe6\x82h\x82j\x00\x00\x00\x00\x00\x00\x00\x00\x00'}], 'end': b''}

motion
[{'name': '上半身\x00\x00\x00\x00\x00\x00\x00\x00\x00', 'frame': 0, 'position': [0.0, 0.0, 0.0], 'quaternion': [0.09372386336326599, 0.07791502773761749, -0.05472072586417198, 0.9910351634025574], 'bezier': b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'}, {'name': '上半身\x00\x00\x00\x00\x00\x00\x00\x00\x00', 'frame': 2, 'position': [0.0, 0.0, 0.0], 'quaternion': [0.12589196860790253, 0.05540267005562782, -0.05292737856507301, 0.9890806078910828], 'bezier': b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'}, {'name': '上半身\x00\x00\x00\x00\x00\x00\x00\x00\x00', 'frame': 5, 'position': [0.0, 0.0, 0.0], 'quaternion': [0.12689006328582764, 0.08731696754693985, -0.03461179882287979, 0.9874597191810608], 'bezier': b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'}, {'name': '上半身\x00\x00\x00\x00\x00\x00\x00\x00\x00', 'frame': 11, 'position': [0.0, 0.0, 0.0], 'quaternion': [0.10767228901386261, 0.024263540282845497, -0.023207800462841988, 0.9936193227767944], 'bezier': b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'}, {'name': '上半身\x00\x00\x00\x00\x00\x00\x00\x00\x00', 'frame': 15, 'position': [0.0, 0.0, 0.0], 'quaternion': [0.0876101553440094, -0.07035547494888306, -0.0008256746223196387, 0.9936668872833252], 'bezier': b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'}, {'name': '上半身\x00\x00\x00\x00\x00\x00\x00\x00\x00', 'frame': 18, 'position': [0.0, 0.0, 0.0], 'quaternion': [0.09782968461513519, 0.024299465119838715, 0.0016943279188126326, 0.9949050545692444], 'bezier': b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'}]

ik
[{'ikcount': 0, 'ikshow': 1, 'iknumber': 4, 'ik': [{'name': '左足ＩＫ\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00', 'enable': 0}, {'name': '右足ＩＫ\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00', 'enable': 0}, {'name': '左つま先ＩＫ\x00\x00\x00\x00\x00\x00\x00\x00', 'enable': 0}, {'name': '右つま先ＩＫ\x00\x00\x00\x00\x00\x00\x00\x00', 'enable': 0}]}]
PS C:\Users\原神\Desktop>
```

reference

https://github.com/syoyo/MMDLoader/blob/master/vmd_reader.cc

https://github.com/59naga/vpvp-vmd/blob/master/src/reader.coffee

https://github.com/errno-mmd/VMD-Lifting/blob/master/applications/VmdWriter.py

tool

https://github.com/wayne931121/EncodingExplosion
